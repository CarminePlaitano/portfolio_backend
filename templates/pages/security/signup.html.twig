{% extends 'base.html.twig' %}

{% block title %}Sign up{% endblock %}

{% block main_container %}
    <main class="form-signin w-75 m-auto">
        
        <div class="mb-3 text-center">
            <h1>carmineplaitano.it - CMS</h1>
            <h5>Sign up</h5>
            <a class="mt-3" href={{ path('app_login') }}>Log in</a>
        </div>

        {{ form_errors(registrationForm) }}

        {{ form_start(registrationForm, {'attr': {'class': 'text-center'}}) }}

            {{ form_row(registrationForm.email, {
                attr: { class: 'form-control' },
                row_attr: {
                    class: 'd-flex flex-column align-items-start mb-3'
                }
            }) }}

            <div data-controller="password-visibility" class="position-relative">
                {{ form_row(registrationForm.plainPassword.first, {
                    attr: {
                        class: 'form-control',
                        'data-password-visibility-target': 'input'
                    },
                    row_attr: {
                        class: 'd-flex flex-column align-items-start mb-3'
                    }
                }) }}
                <i class="fas fa-eye position-absolute end-0 translate-middle-y me-3"
                   data-password-visibility-target="icon"
                   data-action="click->password-visibility#toggle"
                   style="top: 45px;"></i>
            </div>

            <div data-controller="password-visibility" class="position-relative">
                {{ form_row(registrationForm.plainPassword.second, {
                    attr: {
                        class: 'form-control',
                        'data-password-visibility-target': 'input'
                    },
                    row_attr: {
                        class: 'd-flex flex-column align-items-start mb-3'
                    }
                }) }}
                <i class="fas fa-eye position-absolute end-0 translate-middle-y me-3"
                   data-password-visibility-target="icon"
                   data-action="click->password-visibility#toggle"
                   style="top: 45px;"></i>
            </div>

            {{ form_row(registrationForm.agreeTerms, {
                row_attr: {
                    class: 'd-flex flex-row align-items-center mb-3 gap-2'
                }
            }) }}

            <button type="submit" class="btn btn-primary w-100 py-2">Sign up</button>
        {{ form_end(registrationForm) }}
    </main>
{% endblock %}
